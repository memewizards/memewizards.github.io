<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: GroupsModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classGroupsModel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">GroupsModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represents the group hierarchy. This is basically a tree structure In this class, we consider that a groupItem is either a clip or a group.  
 <a href="classGroupsModel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="groupsmodel_8hpp_source.html">groupsmodel.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for GroupsModel:</div>
<div class="dyncontent">
<div class="center"><img src="classGroupsModel__coll__graph.png" border="0" usemap="#GroupsModel_coll__map" alt="Collaboration graph"/></div>
<map name="GroupsModel_coll__map" id="GroupsModel_coll__map">
<area shape="rect" title="This class represents the group hierarchy. This is basically a tree structure In this class,..." alt="" coords="5,5,231,376"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9c4b1ea189c8a88446adad71ea64581"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#ab9c4b1ea189c8a88446adad71ea64581">GroupsModel</a> ()=delete</td></tr>
<tr class="separator:ab9c4b1ea189c8a88446adad71ea64581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fed6066878a565fe1b60caf0f6c2276"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a2fed6066878a565fe1b60caf0f6c2276">GroupsModel</a> (std::weak_ptr&lt; <a class="el" href="classTimelineItemModel.html">TimelineItemModel</a> &gt; parent)</td></tr>
<tr class="separator:a2fed6066878a565fe1b60caf0f6c2276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f54289142bb8dc7bc73480e70d4b613"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a7f54289142bb8dc7bc73480e70d4b613">groupItems</a> (const std::unordered_set&lt; int &gt; &amp;ids, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type=<a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918a960b44c579bc2f6818d2daaf9e4c16f0">GroupType::Normal</a>, bool force=false)</td></tr>
<tr class="memdesc:a7f54289142bb8dc7bc73480e70d4b613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a group that contains all the given items and returns the id of the created group. Note that if an item is already part of a group, its topmost group will be considered instead and added in the newly created group. If only one id is provided, no group is created, unless force = true.  <a href="classGroupsModel.html#a7f54289142bb8dc7bc73480e70d4b613">More...</a><br /></td></tr>
<tr class="separator:a7f54289142bb8dc7bc73480e70d4b613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9b952d298a681aa46972093a6023b5c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#af9b952d298a681aa46972093a6023b5c">ungroupItem</a> (int id, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo, bool deleteOrphan=true)</td></tr>
<tr class="memdesc:af9b952d298a681aa46972093a6023b5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the topmost group containing given element Note that if the element is not in a group, then it will not be touched. Return true on success.  <a href="classGroupsModel.html#af9b952d298a681aa46972093a6023b5c">More...</a><br /></td></tr>
<tr class="separator:af9b952d298a681aa46972093a6023b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a32ca4bb3af913ec58260f32fa117db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a3a32ca4bb3af913ec58260f32fa117db">createGroupItem</a> (int id)</td></tr>
<tr class="memdesc:a3a32ca4bb3af913ec58260f32fa117db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a groupItem in the hierarchy. Initially it is not part of a group.  <a href="classGroupsModel.html#a3a32ca4bb3af913ec58260f32fa117db">More...</a><br /></td></tr>
<tr class="separator:a3a32ca4bb3af913ec58260f32fa117db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa740a3ae8454749fec3a67915735a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#abfa740a3ae8454749fec3a67915735a7">destructGroupItem</a> (int id)</td></tr>
<tr class="memdesc:abfa740a3ae8454749fec3a67915735a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct a group item Note that this public function expects that the given id is an orphan element.  <a href="classGroupsModel.html#abfa740a3ae8454749fec3a67915735a7">More...</a><br /></td></tr>
<tr class="separator:abfa740a3ae8454749fec3a67915735a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8613f095fba3c1fa0054ef0bcac247"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a5b8613f095fba3c1fa0054ef0bcac247">mergeSingleGroups</a> (int id, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a5b8613f095fba3c1fa0054ef0bcac247"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges group with only one child to parent Ex: . . / \ / \ . . becomes a b / \ a b.  <a href="classGroupsModel.html#a5b8613f095fba3c1fa0054ef0bcac247">More...</a><br /></td></tr>
<tr class="separator:a5b8613f095fba3c1fa0054ef0bcac247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a29a3af2cc748bac1cf08b3918f58c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a0a29a3af2cc748bac1cf08b3918f58c9">split</a> (int id, const std::function&lt; bool(int)&gt; &amp;criterion, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a0a29a3af2cc748bac1cf08b3918f58c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Split the group tree according to a given criterion All the leaves satisfying the criterion are moved to the new tree, the other stay Both tree are subsequently simplified to avoid weird structure.  <a href="classGroupsModel.html#a0a29a3af2cc748bac1cf08b3918f58c9">More...</a><br /></td></tr>
<tr class="separator:a0a29a3af2cc748bac1cf08b3918f58c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d269bc812ad1dcda9b40e7a1d99a8d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a9d269bc812ad1dcda9b40e7a1d99a8d8">copyGroups</a> (std::unordered_map&lt; int, int &gt; &amp;mapping, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a9d269bc812ad1dcda9b40e7a1d99a8d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a group hierarchy.  <a href="classGroupsModel.html#a9d269bc812ad1dcda9b40e7a1d99a8d8">More...</a><br /></td></tr>
<tr class="separator:a9d269bc812ad1dcda9b40e7a1d99a8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8fef35c199d3c59846bcc6b70d0e673"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#ac8fef35c199d3c59846bcc6b70d0e673">getRootId</a> (int id) const</td></tr>
<tr class="memdesc:ac8fef35c199d3c59846bcc6b70d0e673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the overall father of a given groupItem If the element has no father, it is returned as is.  <a href="classGroupsModel.html#ac8fef35c199d3c59846bcc6b70d0e673">More...</a><br /></td></tr>
<tr class="separator:ac8fef35c199d3c59846bcc6b70d0e673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7bfb3526a797f7bf6730da07a20ca85"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#aa7bfb3526a797f7bf6730da07a20ca85">isLeaf</a> (int id) const</td></tr>
<tr class="memdesc:aa7bfb3526a797f7bf6730da07a20ca85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the groupItem has no descendant.  <a href="classGroupsModel.html#aa7bfb3526a797f7bf6730da07a20ca85">More...</a><br /></td></tr>
<tr class="separator:aa7bfb3526a797f7bf6730da07a20ca85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f1aaa08f5e014b3dca6cb534f84484"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a01f1aaa08f5e014b3dca6cb534f84484">isInGroup</a> (int id) const</td></tr>
<tr class="memdesc:a01f1aaa08f5e014b3dca6cb534f84484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the element is in a non-trivial group.  <a href="classGroupsModel.html#a01f1aaa08f5e014b3dca6cb534f84484">More...</a><br /></td></tr>
<tr class="separator:a01f1aaa08f5e014b3dca6cb534f84484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56316d627f90a6ad36bbc074af553b97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a56316d627f90a6ad36bbc074af553b97">setInGroupOf</a> (int id, int targetId, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a56316d627f90a6ad36bbc074af553b97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move element id in the same group as targetId.  <a href="classGroupsModel.html#a56316d627f90a6ad36bbc074af553b97">More...</a><br /></td></tr>
<tr class="separator:a56316d627f90a6ad36bbc074af553b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dac46fa6c14d10a4c41d859dbc0075b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a0dac46fa6c14d10a4c41d859dbc0075b">createGroupAtSameLevel</a> (int id, std::unordered_set&lt; int &gt; to_add, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a0dac46fa6c14d10a4c41d859dbc0075b"><td class="mdescLeft">&#160;</td><td class="mdescRight">We replace the leaf node given by id with a group that contains the leaf plus all the clips in to_add. The created group type is given in parameter Returns true on success.  <a href="classGroupsModel.html#a0dac46fa6c14d10a4c41d859dbc0075b">More...</a><br /></td></tr>
<tr class="separator:a0dac46fa6c14d10a4c41d859dbc0075b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a484fc504076651beb690a681c58077c5"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a484fc504076651beb690a681c58077c5">getSubtree</a> (int id) const</td></tr>
<tr class="memdesc:a484fc504076651beb690a681c58077c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of all the descendant of given item (including item)  <a href="classGroupsModel.html#a484fc504076651beb690a681c58077c5">More...</a><br /></td></tr>
<tr class="separator:a484fc504076651beb690a681c58077c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16664efd483fdf23c18ee799941034ab"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a16664efd483fdf23c18ee799941034ab">getLeaves</a> (int id) const</td></tr>
<tr class="memdesc:a16664efd483fdf23c18ee799941034ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of all the leaves in the subtree of the given item This should correspond to the ids of the clips, since they should be the only items with no descendants.  <a href="classGroupsModel.html#a16664efd483fdf23c18ee799941034ab">More...</a><br /></td></tr>
<tr class="separator:a16664efd483fdf23c18ee799941034ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1832b97c8a29ea8b7c78b17c3475b678"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a1832b97c8a29ea8b7c78b17c3475b678">getDirectChildren</a> (int id) const</td></tr>
<tr class="memdesc:a1832b97c8a29ea8b7c78b17c3475b678"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets direct children of a given group item.  <a href="classGroupsModel.html#a1832b97c8a29ea8b7c78b17c3475b678">More...</a><br /></td></tr>
<tr class="separator:a1832b97c8a29ea8b7c78b17c3475b678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf581c7d5c68c33bbd5a846896add81"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#afcf581c7d5c68c33bbd5a846896add81">getDirectAncestor</a> (int id) const</td></tr>
<tr class="memdesc:afcf581c7d5c68c33bbd5a846896add81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets direct ancestor of a given group item. Returns -1 if not in a group.  <a href="classGroupsModel.html#afcf581c7d5c68c33bbd5a846896add81">More...</a><br /></td></tr>
<tr class="separator:afcf581c7d5c68c33bbd5a846896add81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1366c7643ea6bd5a81f3644195b446"><td class="memItemLeft" align="right" valign="top"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a6c1366c7643ea6bd5a81f3644195b446">getType</a> (int id) const</td></tr>
<tr class="memdesc:a6c1366c7643ea6bd5a81f3644195b446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the type of the group.  <a href="classGroupsModel.html#a6c1366c7643ea6bd5a81f3644195b446">More...</a><br /></td></tr>
<tr class="separator:a6c1366c7643ea6bd5a81f3644195b446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3a5c95417be771f81f2a4c081338835"><td class="memItemLeft" align="right" valign="top">const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#af3a5c95417be771f81f2a4c081338835">toJson</a> () const</td></tr>
<tr class="memdesc:af3a5c95417be771f81f2a4c081338835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the group hierarchy to json. Note that we cannot expect clipId nor groupId to be the same on project reopening, thus we cannot rely on them for saving. To workaround that, we currently identify clips by their position + track.  <a href="classGroupsModel.html#af3a5c95417be771f81f2a4c081338835">More...</a><br /></td></tr>
<tr class="separator:af3a5c95417be771f81f2a4c081338835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf3dfa22bdb79f4ef543343d6d40e3e"><td class="memItemLeft" align="right" valign="top">const QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#acbf3dfa22bdb79f4ef543343d6d40e3e">toJson</a> (const std::unordered_set&lt; int &gt; &amp;roots) const</td></tr>
<tr class="separator:acbf3dfa22bdb79f4ef543343d6d40e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fead8dbfca77e9a63d9ea173673ccf3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a0fead8dbfca77e9a63d9ea173673ccf3">fromJson</a> (const QString &amp;data)</td></tr>
<tr class="separator:a0fead8dbfca77e9a63d9ea173673ccf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e5f2557c9eae7e89f103be5bb6bf468"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a9e5f2557c9eae7e89f103be5bb6bf468">fromJsonWithOffset</a> (const QString &amp;data, const QMap&lt; int, int &gt; &amp;trackMap, int offset, double ratio, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="separator:a9e5f2557c9eae7e89f103be5bb6bf468"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694feec4b9d7a73c76574bc224e41ac9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a694feec4b9d7a73c76574bc224e41ac9">getSplitPartner</a> (int id) const</td></tr>
<tr class="memdesc:a694feec4b9d7a73c76574bc224e41ac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">if the clip belongs to a AVSplit group, then return the id of the other corresponding clip. Otherwise, returns -1  <a href="classGroupsModel.html#a694feec4b9d7a73c76574bc224e41ac9">More...</a><br /></td></tr>
<tr class="separator:a694feec4b9d7a73c76574bc224e41ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150405741438b72b890b7540977836c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a150405741438b72b890b7540977836c0">checkConsistency</a> (bool failOnSingleGroups=true, bool checkTimelineConsistency=false)</td></tr>
<tr class="memdesc:a150405741438b72b890b7540977836c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the internal consistency of the model. Returns false if something is wrong.  <a href="classGroupsModel.html#a150405741438b72b890b7540977836c0">More...</a><br /></td></tr>
<tr class="separator:a150405741438b72b890b7540977836c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb2e7103ce2af9052d07cd5c75597811"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#adb2e7103ce2af9052d07cd5c75597811">removeFromGroup</a> (int id)</td></tr>
<tr class="memdesc:adb2e7103ce2af9052d07cd5c75597811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an item from all the groups it belongs to.  <a href="classGroupsModel.html#adb2e7103ce2af9052d07cd5c75597811">More...</a><br /></td></tr>
<tr class="separator:adb2e7103ce2af9052d07cd5c75597811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15be52e97e4ebddf2740255c3a59c059"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a15be52e97e4ebddf2740255c3a59c059">removeFromGroup</a> (int id, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="separator:a15be52e97e4ebddf2740255c3a59c059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa417ec5a503d6334449d2ec1f4f94d38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#aa417ec5a503d6334449d2ec1f4f94d38">setGroup</a> (int id, int groupId, bool changeState=true)</td></tr>
<tr class="memdesc:aa417ec5a503d6334449d2ec1f4f94d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">change the group of a given item  <a href="classGroupsModel.html#aa417ec5a503d6334449d2ec1f4f94d38">More...</a><br /></td></tr>
<tr class="separator:aa417ec5a503d6334449d2ec1f4f94d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916cc6d6f13aa8a12d04813c4e20fdce"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a916cc6d6f13aa8a12d04813c4e20fdce">debugString</a> ()</td></tr>
<tr class="separator:a916cc6d6f13aa8a12d04813c4e20fdce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a387a108a8576bf8ed1fd70df6ebcb69e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a387a108a8576bf8ed1fd70df6ebcb69e">groupItems_lambda</a> (int gid, const std::unordered_set&lt; int &gt; &amp;ids, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type=<a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918a960b44c579bc2f6818d2daaf9e4c16f0">GroupType::Normal</a>, int parent=-1)</td></tr>
<tr class="separator:a387a108a8576bf8ed1fd70df6ebcb69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790aee3f38b1ddcacef91178e5d64c43"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a790aee3f38b1ddcacef91178e5d64c43">destructGroupItem</a> (int id, bool deleteOrphan, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a790aee3f38b1ddcacef91178e5d64c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct a groupItem in the hierarchy. All its children will become their own roots Return true on success.  <a href="classGroupsModel.html#a790aee3f38b1ddcacef91178e5d64c43">More...</a><br /></td></tr>
<tr class="separator:a790aee3f38b1ddcacef91178e5d64c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced2639c06fd494a9398f830437a3919"><td class="memItemLeft" align="right" valign="top"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#aced2639c06fd494a9398f830437a3919">destructGroupItem_lambda</a> (int id)</td></tr>
<tr class="separator:aced2639c06fd494a9398f830437a3919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb6638e5e62dbe049ef285bb3f00d6ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#abb6638e5e62dbe049ef285bb3f00d6ce">processCopy</a> (int gid, std::unordered_map&lt; int, int &gt; &amp;mapping, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:abb6638e5e62dbe049ef285bb3f00d6ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the actual recursive implementation of the copy function.  <a href="classGroupsModel.html#abb6638e5e62dbe049ef285bb3f00d6ce">More...</a><br /></td></tr>
<tr class="separator:abb6638e5e62dbe049ef285bb3f00d6ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a635aca96c93478c29d2d59c7eb92118e"><td class="memItemLeft" align="right" valign="top">QJsonObject&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a635aca96c93478c29d2d59c7eb92118e">toJson</a> (int gid) const</td></tr>
<tr class="memdesc:a635aca96c93478c29d2d59c7eb92118e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the actual recursive implementation of the conversion to json.  <a href="classGroupsModel.html#a635aca96c93478c29d2d59c7eb92118e">More...</a><br /></td></tr>
<tr class="separator:a635aca96c93478c29d2d59c7eb92118e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d994dc2ebc1b53107871c5a79720188"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a5d994dc2ebc1b53107871c5a79720188">fromJson</a> (const QJsonObject &amp;o, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;undo, <a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;redo)</td></tr>
<tr class="memdesc:a5d994dc2ebc1b53107871c5a79720188"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the actual recursive implementation of the parsing from json Returns the id of the created group.  <a href="classGroupsModel.html#a5d994dc2ebc1b53107871c5a79720188">More...</a><br /></td></tr>
<tr class="separator:a5d994dc2ebc1b53107871c5a79720188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7571172c6827fa8356c395a9c5d3299a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a7571172c6827fa8356c395a9c5d3299a">promoteToGroup</a> (int gid, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type)</td></tr>
<tr class="memdesc:a7571172c6827fa8356c395a9c5d3299a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTransform.html">Transform</a> a leaf node into a group node of given type. This implies doing the registration to the timeline.  <a href="classGroupsModel.html#a7571172c6827fa8356c395a9c5d3299a">More...</a><br /></td></tr>
<tr class="separator:a7571172c6827fa8356c395a9c5d3299a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03030d79eaa915be4f191bd12e04112"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#ab03030d79eaa915be4f191bd12e04112">downgradeToLeaf</a> (int gid)</td></tr>
<tr class="memdesc:ab03030d79eaa915be4f191bd12e04112"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTransform.html">Transform</a> a group node with no children into a leaf. This implies doing the deregistration to the timeline.  <a href="classGroupsModel.html#ab03030d79eaa915be4f191bd12e04112">More...</a><br /></td></tr>
<tr class="separator:ab03030d79eaa915be4f191bd12e04112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25673b85d68f1d8c35cdb904f48c263c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#a25673b85d68f1d8c35cdb904f48c263c">setType</a> (int gid, <a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> type)</td></tr>
<tr class="memdesc:a25673b85d68f1d8c35cdb904f48c263c"><td class="mdescLeft">&#160;</td><td class="mdescRight">helper function to change the type of a group.  <a href="classGroupsModel.html#a25673b85d68f1d8c35cdb904f48c263c">More...</a><br /></td></tr>
<tr class="separator:a25673b85d68f1d8c35cdb904f48c263c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af95d1f306db54e998f9ca56a7b5de8b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroupsModel.html#af95d1f306db54e998f9ca56a7b5de8b2">adjustOffset</a> (QJsonArray &amp;updatedNodes, const QJsonObject &amp;childObject, int offset, const QMap&lt; int, int &gt; &amp;trackMap, double ratio=1.)</td></tr>
<tr class="memdesc:af95d1f306db54e998f9ca56a7b5de8b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust json group data according to offset.  <a href="classGroupsModel.html#af95d1f306db54e998f9ca56a7b5de8b2">More...</a><br /></td></tr>
<tr class="separator:af95d1f306db54e998f9ca56a7b5de8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class represents the group hierarchy. This is basically a tree structure In this class, we consider that a groupItem is either a clip or a group. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab9c4b1ea189c8a88446adad71ea64581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9c4b1ea189c8a88446adad71ea64581">&#9670;&nbsp;</a></span>GroupsModel() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GroupsModel::GroupsModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2fed6066878a565fe1b60caf0f6c2276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fed6066878a565fe1b60caf0f6c2276">&#9670;&nbsp;</a></span>GroupsModel() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GroupsModel::GroupsModel </td>
          <td>(</td>
          <td class="paramtype">std::weak_ptr&lt; <a class="el" href="classTimelineItemModel.html">TimelineItemModel</a> &gt;&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af95d1f306db54e998f9ca56a7b5de8b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af95d1f306db54e998f9ca56a7b5de8b2">&#9670;&nbsp;</a></span>adjustOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::adjustOffset </td>
          <td>(</td>
          <td class="paramtype">QJsonArray &amp;&#160;</td>
          <td class="paramname"><em>updatedNodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QJsonObject &amp;&#160;</td>
          <td class="paramname"><em>childObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QMap&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>trackMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ratio</em> = <code>1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adjust json group data according to offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">updatedNodes</td><td>The resulting nodes </td></tr>
    <tr><td class="paramname">childObject</td><td>The source data </td></tr>
    <tr><td class="paramname">offset</td><td>The position frame offset </td></tr>
    <tr><td class="paramname">trackMap</td><td>The map from source to destination tracks </td></tr>
    <tr><td class="paramname">ratio</td><td>A ratio to apply to all positions (used in case of fps conversion) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a150405741438b72b890b7540977836c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a150405741438b72b890b7540977836c0">&#9670;&nbsp;</a></span>checkConsistency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::checkConsistency </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>failOnSingleGroups</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkTimelineConsistency</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the internal consistency of the model. Returns false if something is wrong. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">failOnSingleGroups</td><td>if true, we make sure that a non-leaf node has at least two children </td></tr>
    <tr><td class="paramname">checkTimelineConsistency</td><td>if true, we make sure that the group data of the parent timeline are consistent </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d269bc812ad1dcda9b40e7a1d99a8d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d269bc812ad1dcda9b40e7a1d99a8d8">&#9670;&nbsp;</a></span>copyGroups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::copyGroups </td>
          <td>(</td>
          <td class="paramtype">std::unordered_map&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a group hierarchy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapping</td><td>describes the correspondence between the ids of the items in the source group hierarchy, and their counterpart in the hierarchy that we create. It will also be used as a return parameter, by adding the mapping between the groups of the hierarchy Note that if the target items should not belong to a group. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0dac46fa6c14d10a4c41d859dbc0075b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dac46fa6c14d10a4c41d859dbc0075b">&#9670;&nbsp;</a></span>createGroupAtSameLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::createGroupAtSameLevel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_set&lt; int &gt;&#160;</td>
          <td class="paramname"><em>to_add</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We replace the leaf node given by id with a group that contains the leaf plus all the clips in to_add. The created group type is given in parameter Returns true on success. </p>

</div>
</div>
<a id="a3a32ca4bb3af913ec58260f32fa117db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a32ca4bb3af913ec58260f32fa117db">&#9670;&nbsp;</a></span>createGroupItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::createGroupItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a groupItem in the hierarchy. Initially it is not part of a group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a916cc6d6f13aa8a12d04813c4e20fdce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916cc6d6f13aa8a12d04813c4e20fdce">&#9670;&nbsp;</a></span>debugString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString GroupsModel::debugString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abfa740a3ae8454749fec3a67915735a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa740a3ae8454749fec3a67915735a7">&#9670;&nbsp;</a></span>destructGroupItem() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::destructGroupItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destruct a group item Note that this public function expects that the given id is an orphan element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a790aee3f38b1ddcacef91178e5d64c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790aee3f38b1ddcacef91178e5d64c43">&#9670;&nbsp;</a></span>destructGroupItem() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::destructGroupItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deleteOrphan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destruct a groupItem in the hierarchy. All its children will become their own roots Return true on success. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupitem </td></tr>
    <tr><td class="paramname">deleteOrphan</td><td>If this parameter is true, we recursively delete any group that become empty following the destruction </td></tr>
    <tr><td class="paramname">undo</td><td>Lambda function containing the current undo stack. Will be updated with current operation </td></tr>
    <tr><td class="paramname">redo</td><td>Lambda function containing the current redo queue. Will be updated with current operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aced2639c06fd494a9398f830437a3919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aced2639c06fd494a9398f830437a3919">&#9670;&nbsp;</a></span>destructGroupItem_lambda()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> GroupsModel::destructGroupItem_lambda </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab03030d79eaa915be4f191bd12e04112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab03030d79eaa915be4f191bd12e04112">&#9670;&nbsp;</a></span>downgradeToLeaf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::downgradeToLeaf </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classTransform.html">Transform</a> a group node with no children into a leaf. This implies doing the deregistration to the timeline. </p>

</div>
</div>
<a id="a5d994dc2ebc1b53107871c5a79720188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d994dc2ebc1b53107871c5a79720188">&#9670;&nbsp;</a></span>fromJson() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::fromJson </td>
          <td>(</td>
          <td class="paramtype">const QJsonObject &amp;&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the actual recursive implementation of the parsing from json Returns the id of the created group. </p>

</div>
</div>
<a id="a0fead8dbfca77e9a63d9ea173673ccf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fead8dbfca77e9a63d9ea173673ccf3">&#9670;&nbsp;</a></span>fromJson() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::fromJson </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9e5f2557c9eae7e89f103be5bb6bf468"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5f2557c9eae7e89f103be5bb6bf468">&#9670;&nbsp;</a></span>fromJsonWithOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::fromJsonWithOffset </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QMap&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>trackMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afcf581c7d5c68c33bbd5a846896add81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcf581c7d5c68c33bbd5a846896add81">&#9670;&nbsp;</a></span>getDirectAncestor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::getDirectAncestor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets direct ancestor of a given group item. Returns -1 if not in a group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1832b97c8a29ea8b7c78b17c3475b678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1832b97c8a29ea8b7c78b17c3475b678">&#9670;&nbsp;</a></span>getDirectChildren()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; int &gt; GroupsModel::getDirectChildren </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets direct children of a given group item. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a16664efd483fdf23c18ee799941034ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16664efd483fdf23c18ee799941034ab">&#9670;&nbsp;</a></span>getLeaves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; int &gt; GroupsModel::getLeaves </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the id of all the leaves in the subtree of the given item This should correspond to the ids of the clips, since they should be the only items with no descendants. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac8fef35c199d3c59846bcc6b70d0e673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8fef35c199d3c59846bcc6b70d0e673">&#9670;&nbsp;</a></span>getRootId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::getRootId </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the overall father of a given groupItem If the element has no father, it is returned as is. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupitem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a694feec4b9d7a73c76574bc224e41ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694feec4b9d7a73c76574bc224e41ac9">&#9670;&nbsp;</a></span>getSplitPartner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::getSplitPartner </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>if the clip belongs to a AVSplit group, then return the id of the other corresponding clip. Otherwise, returns -1 </p>

</div>
</div>
<a id="a484fc504076651beb690a681c58077c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a484fc504076651beb690a681c58077c5">&#9670;&nbsp;</a></span>getSubtree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt; int &gt; GroupsModel::getSubtree </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the id of all the descendant of given item (including item) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c1366c7643ea6bd5a81f3644195b446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c1366c7643ea6bd5a81f3644195b446">&#9670;&nbsp;</a></span>getType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a> GroupsModel::getType </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the type of the group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem. Must be a proper group, not a leaf </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f54289142bb8dc7bc73480e70d4b613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f54289142bb8dc7bc73480e70d4b613">&#9670;&nbsp;</a></span>groupItems()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GroupsModel::groupItems </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_set&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918a960b44c579bc2f6818d2daaf9e4c16f0">GroupType::Normal</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a group that contains all the given items and returns the id of the created group. Note that if an item is already part of a group, its topmost group will be considered instead and added in the newly created group. If only one id is provided, no group is created, unless force = true. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ids</td><td>set containing the items to group. </td></tr>
    <tr><td class="paramname">undo</td><td>Lambda function containing the current undo stack. Will be updated with current operation </td></tr>
    <tr><td class="paramname">redo</td><td>Lambda function containing the current redo queue. Will be updated with current operation </td></tr>
    <tr><td class="paramname">type</td><td>indicates the type of group we create Returns the id of the new group, or -1 on error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a387a108a8576bf8ed1fd70df6ebcb69e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387a108a8576bf8ed1fd70df6ebcb69e">&#9670;&nbsp;</a></span>groupItems_lambda()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> GroupsModel::groupItems_lambda </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918a960b44c579bc2f6818d2daaf9e4c16f0">GroupType::Normal</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parent</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a01f1aaa08f5e014b3dca6cb534f84484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f1aaa08f5e014b3dca6cb534f84484">&#9670;&nbsp;</a></span>isInGroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::isInGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the element is in a non-trivial group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7bfb3526a797f7bf6730da07a20ca85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7bfb3526a797f7bf6730da07a20ca85">&#9670;&nbsp;</a></span>isLeaf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::isLeaf </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the groupItem has no descendant. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b8613f095fba3c1fa0054ef0bcac247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b8613f095fba3c1fa0054ef0bcac247">&#9670;&nbsp;</a></span>mergeSingleGroups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::mergeSingleGroups </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merges group with only one child to parent Ex: . . / \ / \ . . becomes a b / \ a b. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the tree to consider </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb6638e5e62dbe049ef285bb3f00d6ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb6638e5e62dbe049ef285bb3f00d6ce">&#9670;&nbsp;</a></span>processCopy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::processCopy </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unordered_map&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>mapping</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the actual recursive implementation of the copy function. </p>

</div>
</div>
<a id="a7571172c6827fa8356c395a9c5d3299a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7571172c6827fa8356c395a9c5d3299a">&#9670;&nbsp;</a></span>promoteToGroup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::promoteToGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classTransform.html">Transform</a> a leaf node into a group node of given type. This implies doing the registration to the timeline. </p>

</div>
</div>
<a id="adb2e7103ce2af9052d07cd5c75597811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb2e7103ce2af9052d07cd5c75597811">&#9670;&nbsp;</a></span>removeFromGroup() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::removeFromGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove an item from all the groups it belongs to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15be52e97e4ebddf2740255c3a59c059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15be52e97e4ebddf2740255c3a59c059">&#9670;&nbsp;</a></span>removeFromGroup() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::removeFromGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa417ec5a503d6334449d2ec1f4f94d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa417ec5a503d6334449d2ec1f4f94d38">&#9670;&nbsp;</a></span>setGroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::setGroup </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>groupId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>changeState</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>change the group of a given item </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
    <tr><td class="paramname">groupId</td><td>id of the group to assign it to </td></tr>
    <tr><td class="paramname">changeState</td><td>when false, the grouped role for item won't be updated (for selection) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a56316d627f90a6ad36bbc074af553b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56316d627f90a6ad36bbc074af553b97">&#9670;&nbsp;</a></span>setInGroupOf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::setInGroupOf </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move element id in the same group as targetId. </p>

</div>
</div>
<a id="a25673b85d68f1d8c35cdb904f48c263c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25673b85d68f1d8c35cdb904f48c263c">&#9670;&nbsp;</a></span>setType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GroupsModel::setType </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="definitions_8h.html#a3de1267c3b87dda21863fd739439d918">GroupType</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>helper function to change the type of a group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>of the groupItem </td></tr>
    <tr><td class="paramname">type</td><td>new type of the group </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a29a3af2cc748bac1cf08b3918f58c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a29a3af2cc748bac1cf08b3918f58c9">&#9670;&nbsp;</a></span>split()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::split </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; bool(int)&gt; &amp;&#160;</td>
          <td class="paramname"><em>criterion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Split the group tree according to a given criterion All the leaves satisfying the criterion are moved to the new tree, the other stay Both tree are subsequently simplified to avoid weird structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>is the root of the tree </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af3a5c95417be771f81f2a4c081338835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a5c95417be771f81f2a4c081338835">&#9670;&nbsp;</a></span>toJson() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString GroupsModel::toJson </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the group hierarchy to json. Note that we cannot expect clipId nor groupId to be the same on project reopening, thus we cannot rely on them for saving. To workaround that, we currently identify clips by their position + track. </p>

</div>
</div>
<a id="acbf3dfa22bdb79f4ef543343d6d40e3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf3dfa22bdb79f4ef543343d6d40e3e">&#9670;&nbsp;</a></span>toJson() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString GroupsModel::toJson </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_set&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>roots</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a635aca96c93478c29d2d59c7eb92118e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a635aca96c93478c29d2d59c7eb92118e">&#9670;&nbsp;</a></span>toJson() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QJsonObject GroupsModel::toJson </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the actual recursive implementation of the conversion to json. </p>

</div>
</div>
<a id="af9b952d298a681aa46972093a6023b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9b952d298a681aa46972093a6023b5c">&#9670;&nbsp;</a></span>ungroupItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GroupsModel::ungroupItem </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="undohelper_8hpp.html#a82e96eed53e9f458ab45ae8c74b00ea5">Fun</a> &amp;&#160;</td>
          <td class="paramname"><em>redo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deleteOrphan</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the topmost group containing given element Note that if the element is not in a group, then it will not be touched. Return true on success. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the groupitem </td></tr>
    <tr><td class="paramname">undo</td><td>Lambda function containing the current undo stack. Will be updated with current operation </td></tr>
    <tr><td class="paramname">redo</td><td>Lambda function containing the current redo queue. Will be updated with current operation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/timeline2/model/<a class="el" href="groupsmodel_8hpp_source.html">groupsmodel.hpp</a></li>
<li>src/timeline2/model/<a class="el" href="groupsmodel_8cpp.html">groupsmodel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
